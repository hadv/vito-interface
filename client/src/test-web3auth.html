<!DOCTYPE html>
<html>
<head>
    <title>Web3Auth CDN Test</title>
</head>
<body>
    <h1>Web3Auth CDN Test</h1>
    <button onclick="testWeb3Auth()">Test Web3Auth Loading</button>
    <div id="output"></div>

    <script>
        function log(message) {
            const output = document.getElementById('output');
            output.innerHTML += '<p>' + message + '</p>';
            console.log(message);
        }

        function testWeb3Auth() {
            log('üîÑ Testing Web3Auth CDN loading...');
            
            // Test different CDN URLs
            const urls = [
                'https://cdn.jsdelivr.net/npm/@web3auth/modal@8/dist/modal.umd.min.js',
                'https://cdn.jsdelivr.net/npm/@web3auth/modal@10/dist/modal.umd.min.js',
                'https://cdn.jsdelivr.net/npm/@web3auth/modal@latest/dist/modal.umd.min.js'
            ];

            urls.forEach((url, index) => {
                setTimeout(() => {
                    log(`üì¶ Testing URL ${index + 1}: ${url}`);
                    
                    const script = document.createElement('script');
                    script.src = url;
                    script.async = true;
                    
                    script.onload = () => {
                        log(`‚úÖ Script ${index + 1} loaded successfully`);
                        
                        // Check what objects are available
                        setTimeout(() => {
                            log(`üîç Available window objects after script ${index + 1}:`);
                            const web3Objects = Object.keys(window).filter(key => 
                                key.toLowerCase().includes('web3')
                            );
                            log(`Web3 objects: ${JSON.stringify(web3Objects)}`);
                            
                            // Check specific objects
                            log(`window.Web3auth: ${typeof window.Web3auth}`);
                            log(`window.Web3AuthModal: ${typeof window.Web3AuthModal}`);
                            log(`window.Web3Auth: ${typeof window.Web3Auth}`);
                            
                            if (window.Web3auth) {
                                log(`Web3auth properties: ${Object.keys(window.Web3auth)}`);
                            }
                            if (window.Web3AuthModal) {
                                log(`Web3AuthModal properties: ${Object.keys(window.Web3AuthModal)}`);
                            }
                        }, 500);
                    };
                    
                    script.onerror = () => {
                        log(`‚ùå Failed to load script ${index + 1}`);
                    };
                    
                    document.head.appendChild(script);
                }, index * 2000); // Stagger the tests
            });
        }
    </script>
</body>
</html>
